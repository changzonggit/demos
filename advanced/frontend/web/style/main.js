/*!common/components/jquery-validate/jquery-validate.js*/
;define("common/components/jquery-validate/jquery-validate",["require","exports","module"],function(){!function(a){a.extend(a.fn,{validate:function(h){if(!this.length)return void(h&&h.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"));var c=a.data(this[0],"validator");return c?c:(c=new a.validator(h,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(h){c.settings.submitHandler&&(c.submitButton=h.target),a(h.target).hasClass("cancel")&&(c.cancelSubmit=!0)}),this.submit(function(h){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,h),c.submitButton&&d.remove(),!1):!0}return void 0!=window.tinyMCE&&tinyMCE.triggerSave(),c.settings.debug&&h.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var h,c;return a(this[0]).is("form")?this.validate().form():(h=!0,c=a(this[0].form).validate(),this.each(function(){h&=c.element(this)}),h)},removeAttrs:function(h){var c={},d=this;return a.each(h.split(/\s/),function(a,h){c[h]=d.attr(h),d.removeAttr(h)}),c},rules:function(h,c){var e,f,g,F,i,v,d=this[0];if(h)switch(e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d),h){case"add":a.extend(g,a.validator.normalizeRule(c)),f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":return c?(F={},a.each(c.split(/\s/),function(a,h){F[h]=g[h],delete g[h]}),F):(delete f[d.name],g)}return i=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(d),a.validator.classRules(d),a.validator.attributeRules(d),a.validator.staticRules(d)),d),i.required&&(v=i.required,delete i.required,i=a.extend({required:v},i)),i}}),a.extend(a.expr[":"],{blank:function(h){return!a.trim(""+h.value)},filled:function(h){return!!a.trim(""+h.value)},unchecked:function(a){return!a.checked}}),a.validator=function(h,c){this.settings=a.extend(!0,{},a.validator.defaults,h),this.currentForm=c,this.init()},a.validator.format=function(h,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(h),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){h=h.replace(new RegExp("\\{"+a+"\\}","g"),c)}),h)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"span",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:"",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,h){(9!=h.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastActive)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(h,c,d){"radio"===h.type?this.findByName(h.name).addClass(c).removeClass(d):a(h).addClass(c).removeClass(d)},unhighlight:function(h,c,d){"radio"===h.type?this.findByName(h.name).removeClass(c).addClass(d):a(h).removeClass(c).addClass(d)}},setDefaults:function(h){a.extend(a.validator.defaults,h)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function d(h){var c=a.data(this[0].form,"validator"),d="on"+h.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],h)}var h,c;this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),h=this.groups={},a.each(this.settings.groups,function(c,d){a.each(d.split(/\s/),function(a,d){h[d]=c})}),c=this.settings.rules,a.each(c,function(h,d){c[h]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",d).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",d),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){var a,h,c;for(this.prepareForm(),a=0,h=this.currentElements=this.elements();h[a];a++)if(void 0!=this.findByName(h[a].name).length&&this.findByName(h[a].name).length>1)for(c=0;c<this.findByName(h[a].name).length;c++)this.check(this.findByName(h[a].name)[c]);else this.check(h[a]);return this.valid()},element:function(h){h=this.validationTargetFor(this.clean(h)),this.lastElement=h,this.prepareElement(h),this.currentElements=a(h);var c=this.check(h)!==!1;return c?delete this.invalid[h.name]:this.invalid[h.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(h){if(h){a.extend(this.errorMap,h),this.errorList=[];for(var c in h)this.errorList.push({message:h[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in h)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var h=0;for(c in a)h++;return h},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(h){}},findLastActive:function(){var h=this.lastActive;return h&&1===a.grep(this.errorList,function(a){return a.element.name===h.name}).length&&h},elements:function(){var h=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&h.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!h.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(h){return a(h)[0]},errors:function(){var h=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+h,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(h){var c=a(h).attr("type"),d=a(h).val();return"radio"===c||"checkbox"===c?a('input[name="'+a(h).attr("name")+'"]:checked').val():"string"==typeof d?d.replace(/\r/g,""):d},check:function(h){var c,d,e,f,g,F;h=this.validationTargetFor(this.clean(h)),c=a(h).rules(),d=!1,e=this.elementValue(h);for(g in c){F={method:g,parameters:c[g]};try{if(f=a.validator.methods[g].call(this,e,h,F.parameters),"dependency-mismatch"===f){d=!0;continue}if(d=!1,"pending"===f)return void(this.toHide=this.toHide.not(this.errorsFor(h)));if(!f)return this.formatAndAdd(h,F),!1}catch(i){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+h.id+", check the '"+F.method+"' method",i),i}}return d?void 0:(this.objectLength(c)&&this.successList.push(h),!0)},customMetaMessage:function(h,c){if(a.metadata){var d=this.settings.meta?a(h).metadata()[this.settings.meta]:a(h).metadata();return d&&d.messages&&d.messages[c]}},customDataMessage:function(h,c){return a(h).data("msg-"+c.toLowerCase())||h.attributes&&a(h).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,h){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[h])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(h,c){return this.findDefined(this.customMessage(h.name,c),this.customDataMessage(h,c),this.customMetaMessage(h,c),!this.settings.ignoreTitle&&h.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+h.name+"</strong>")},formatAndAdd:function(h,c){var d=this.defaultMessage(h,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,h):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:h}),this.errorMap[h.name]=d,this.submitted[h.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,h,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,h=this.validElements();h[a];a++)this.settings.unhighlight.call(this,h[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(h,c){var d=this.errorsFor(h);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(h),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(h)):d.insertAfter(a(h)))),!c&&this.settings.success&&(d.text("").append('<em class="error_arrow"></em>'),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,h)),this.toShow=this.toShow.add(d)},errorsFor:function(h){var c=this.idOrName(h);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(h){return a(this.currentForm).find('[name="'+h+'"]')},getLength:function(h,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return h.length},depend:function(a,h){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,h):!0},dependTypes:{"boolean":function(a){return a},string:function(h,c){return!!a(h,c.form).length},"function":function(a,h){return a(h)}},optional:function(h){var c=this.elementValue(h);return!a.validator.methods.required.call(this,c,h)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(h,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[h.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(h){return a.data(h,"previousValue")||a.data(h,"previousValue",{old:null,valid:!0,message:this.defaultMessage(h,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(h,c){h.constructor===String?this.classRuleSettings[h]=c:a.extend(this.classRuleSettings,h)},classRules:function(h){var c={},d=a(h).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(h){var e,f,c={},d=a(h);for(e in a.validator.methods)"required"===e?(f=d.get(0).getAttribute(e),""===f&&(f=!0),f=!!f):f=d.attr(e),f?c[e]=f:d[0].getAttribute("type")===e&&(c[e]=!0);return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},metadataRules:function(h){if(!a.metadata)return{};var c=a.data(h.form,"validator").settings.meta;return c?a(h).metadata()[c]:a(h).metadata()},staticRules:function(h){var c={},d=a.data(h.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[h.name])||{}),c},normalizeRules:function(h,c){return a.each(h,function(d,e){if(e===!1)return void delete h[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?h[d]=void 0!==e.param?e.param:!0:delete h[d]}}),a.each(h,function(d,e){h[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength","min","max"],function(){h[this]&&(h[this]=Number(h[this]))}),a.each(["rangelength","range"],function(){h[this]&&(h[this]=[Number(h[this][0]),Number(h[this][1])])}),a.validator.autoCreateRanges&&(h.min&&h.max&&(h.range=[h.min,h.max],delete h.min,delete h.max),h.minlength&&h.maxlength&&(h.rangelength=[h.minlength,h.maxlength],delete h.minlength,delete h.maxlength)),h.messages&&delete h.messages,h},normalizeRule:function(h){if("string"==typeof h){var c={};a.each(h.split(/\s/),function(){c[this]=!0}),h=c}return h},addMethod:function(h,c,d){a.validator.methods[h]=c,a.validator.messages[h]=void 0!==d?d:a.validator.messages[h],c.length<3&&a.validator.addClassRules(h,a.validator.normalizeRule(h))},methods:{required:function(h,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(h,c)>0:(h==a(c).attr("placeholder")&&(h=""),a.trim(h).length>0)},remote:function(h,c,d){var e,f,g;return this.optional(c)?"dependency-mismatch":(e=this.previousValue(c),this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d,this.pending[c.name]?"pending":e.old===h?e.valid:(e.old=h,f=this,this.startRequest(c),g={},g[c.name]=h,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){var g,F,i,v;f.settings.messages[c.name].remote=e.originalMessage,g=d===!0||"true"===d,g?(F=f.formSubmitted,f.prepareElement(c),f.formSubmitted=F,f.successList.push(c),delete f.invalid[c.name],f.showErrors()):(i={},v=d||f.defaultMessage(c,"remote"),i[c.name]=e.message=a.isFunction(v)?v(h):v,f.invalid[c.name]=!0,f.showErrors(i)),e.valid=g,f.stopRequest(c,g)}},d)),"pending"))},minlength:function(h,c,d){var e=a.isArray(h)?h.length:this.getLength(a.trim(h),c);return this.optional(c)||e>=d},maxlength:function(h,c,d){var e=a.isArray(h)?h.length:this.getLength(a.trim(h),c);return this.optional(c)||d>=e},rangelength:function(h,c,d){var e=a.isArray(h)?h.length:this.getLength(a.trim(h),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,h,c){return this.optional(h)||a>=c},max:function(a,h,c){return this.optional(h)||c>=a},range:function(a,h,c){return this.optional(h)||a>=c[0]&&a<=c[1]},email:function(h,c){return h=a.trim(h),this.optional(c)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(h)},url:function(a,h){return this.optional(h)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,h){return this.optional(h)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,h){return this.optional(h)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,h){return this.optional(h)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,h){return this.optional(h)||/^\d+$/.test(a)},creditcard:function(a,h){var c,d,e,f,g;if(this.optional(h))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;for(c=0,d=0,e=!1,a=a.replace(/\D/g,""),f=a.length-1;f>=0;f--)g=a.charAt(f),d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e;return 0===c%10},equalTo:function(h,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),h===e.val()}}}),a.format=a.validator.format}(jQuery),function(a){var h,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,h,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(h=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=h.apply(this,arguments)):h.apply(this,arguments)})}(jQuery),function(a){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||a.each({focus:"focusin",blur:"focusout"},function(h,c){function d(h){return h=a.event.fix(h),h.type=c,a.event.handle.call(this,h)}a.event.special[c]={setup:function(){this.addEventListener(h,d,!0)},teardown:function(){this.removeEventListener(h,d,!0)},handler:function(h){var d=arguments;return d[0]=a.event.fix(h),d[0].type=c,a.event.handle.apply(this,d)}}}),a.extend(a.fn,{validateDelegate:function(h,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(h)?d.apply(e,arguments):void 0})}})}(jQuery)});
/*!dep/jquery-validation/dist/jquery.validate.js*/
;!function(a){"function"==typeof define&&define.amd?define("dep/jquery-validation/dist/jquery.validate",["jquery"],a):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(h){if(!this.length)return void(h&&h.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(h,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(h){c.settings.submitHandler&&(c.submitButton=h.target),a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(h){function g(){var g,v;return c.settings.submitHandler?(c.submitButton&&(g=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),v=c.settings.submitHandler.call(c,c.currentForm,h),c.submitButton&&g.remove(),void 0!==v?v:!1):!0}return c.settings.debug&&h.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,g()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):g():(c.focusInvalid(),!1)})),c)},valid:function(){var h,c,g;return a(this[0]).is("form")?h=this.validate().form():(g=[],h=!0,c=a(this[0].form).validate(),this.each(function(){h=c.element(this)&&h,g=g.concat(c.errorList)}),c.errorList=g),h},rules:function(h,c){var g,v,b,y,C,w,L=this[0];if(h)switch(g=a.data(L.form,"validator").settings,v=g.rules,b=a.validator.staticRules(L),h){case"add":a.extend(b,a.validator.normalizeRule(c)),delete b.messages,v[L.name]=b,c.messages&&(g.messages[L.name]=a.extend(g.messages[L.name],c.messages));break;case"remove":return c?(w={},a.each(c.split(/\s/),function(h,c){w[c]=b[c],delete b[c],"required"===c&&a(L).removeAttr("aria-required")}),w):(delete v[L.name],b)}return y=a.validator.normalizeRules(a.extend({},a.validator.classRules(L),a.validator.attributeRules(L),a.validator.dataRules(L),a.validator.staticRules(L)),L),y.required&&(C=y.required,delete y.required,y=a.extend({required:C},y),a(L).attr("aria-required","true")),y.remote&&(C=y.remote,delete y.remote,y=a.extend(y,{remote:C})),y}}),a.extend(a.expr[":"],{blank:function(h){return!a.trim(""+a(h).val())},filled:function(h){return!!a.trim(""+a(h).val())},unchecked:function(h){return!a(h).prop("checked")}}),a.validator=function(h,c){this.settings=a.extend(!0,{},a.validator.defaults,h),this.currentForm=c,this.init()},a.validator.format=function(h,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(h),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(i,n){h=h.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n})}),h)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(h,c){var g=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(h)||-1!==a.inArray(c.keyCode,g)||(h.name in this.submitted||h===this.lastElement)&&this.element(h)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(h,c,g){"radio"===h.type?this.findByName(h.name).addClass(c).removeClass(g):a(h).addClass(c).removeClass(g)},unhighlight:function(h,c,g){"radio"===h.type?this.findByName(h.name).removeClass(c).addClass(g):a(h).removeClass(c).addClass(g)}},setDefaults:function(h){a.extend(a.validator.defaults,h)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function h(h){var c=a.data(this.form,"validator"),g="on"+h.type.replace(/^validate/,""),v=c.settings;v[g]&&!a(this).is(v.ignore)&&v[g].call(c,this,h)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,g=this.groups={};a.each(this.settings.groups,function(h,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){g[c]=h})}),c=this.settings.rules,a.each(c,function(h,g){c[h]=a.validator.normalizeRule(g)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",h).on("click.validate","select, option, [type='radio'], [type='checkbox']",h),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var i=0,a=this.currentElements=this.elements();a[i];i++)this.check(a[i]);return this.valid()},element:function(h){var c=this.clean(h),g=this.validationTargetFor(c),v=!0;return this.lastElement=g,void 0===g?delete this.invalid[c.name]:(this.prepareElement(g),this.currentElements=a(g),v=this.check(g)!==!1,v?delete this.invalid[g.name]:this.invalid[g.name]=!0),a(h).attr("aria-invalid",!v),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),v},showErrors:function(h){if(h){a.extend(this.errorMap,h),this.errorList=[];for(var c in h)this.errorList.push({message:h[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in h)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var i,h=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(i=0;h[i];i++)this.settings.unhighlight.call(this,h[i],this.settings.errorClass,"");else h.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var i,h=0;for(i in a)h++;return h},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var h=this.lastActive;return h&&1===a.grep(this.errorList,function(n){return n.element.name===h.name}).length&&h},elements:function(){var h=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&h.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!h.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(h){return a(h)[0]},errors:function(){var h=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+h,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(h){var c,g=a(h),v=h.type;return"radio"===v||"checkbox"===v?this.findByName(h.name).filter(":checked").val():"number"===v&&"undefined"!=typeof h.validity?h.validity.badInput?!1:g.val():(c=g.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:function(h){h=this.validationTargetFor(this.clean(h));var c,g,v,b=a(h).rules(),y=a.map(b,function(n,i){return i}).length,C=!1,w=this.elementValue(h);for(g in b){v={method:g,parameters:b[g]};try{if(c=a.validator.methods[g].call(this,w,h,v.parameters),"dependency-mismatch"===c&&1===y){C=!0;continue}if(C=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(h)));if(!c)return this.formatAndAdd(h,v),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+h.id+", check the '"+v.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+h.id+", check the '"+v.method+"' method."),e}}if(!C)return this.objectLength(b)&&this.successList.push(h),!0},customDataMessage:function(h,c){return a(h).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(h).data("msg")},customMessage:function(a,h){var m=this.settings.messages[a];return m&&(m.constructor===String?m:m[h])},findDefined:function(){for(var i=0;i<arguments.length;i++)if(void 0!==arguments[i])return arguments[i];return void 0},defaultMessage:function(h,c){return this.findDefined(this.customMessage(h.name,c),this.customDataMessage(h,c),!this.settings.ignoreTitle&&h.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+h.name+"</strong>")},formatAndAdd:function(h,c){var g=this.defaultMessage(h,c.method),v=/\$?\{(\d+)\}/g;"function"==typeof g?g=g.call(this,c.parameters,h):v.test(g)&&(g=a.validator.format(g.replace(v,"{$1}"),c.parameters)),this.errorList.push({message:g,element:h,method:c.method}),this.errorMap[h.name]=g,this.submitted[h.name]=g},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var i,a,h;for(i=0;this.errorList[i];i++)h=this.errorList[i],this.settings.highlight&&this.settings.highlight.call(this,h.element,this.settings.errorClass,this.settings.validClass),this.showLabel(h.element,h.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,a=this.validElements();a[i];i++)this.settings.unhighlight.call(this,a[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(h,c){var g,v,b,y=this.errorsFor(h),C=this.idOrName(h),w=a(h).attr("aria-describedby");y.length?(y.removeClass(this.settings.validClass).addClass(this.settings.errorClass),y.html(c)):(y=a("<"+this.settings.errorElement+">").attr("id",C+"-error").addClass(this.settings.errorClass).html(c||""),g=y,this.settings.wrapper&&(g=y.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(g):this.settings.errorPlacement?this.settings.errorPlacement(g,a(h)):g.insertAfter(h),y.is("label")?y.attr("for",C):0===y.parents("label[for='"+C+"']").length&&(b=y.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),w?w.match(new RegExp("\\b"+b+"\\b"))||(w+=" "+b):w=b,a(h).attr("aria-describedby",w),v=this.groups[h.name],v&&a.each(this.groups,function(h,c){c===v&&a("[name='"+h+"']",this.currentForm).attr("aria-describedby",y.attr("id"))}))),!c&&this.settings.success&&(y.text(""),"string"==typeof this.settings.success?y.addClass(this.settings.success):this.settings.success(y,h)),this.toShow=this.toShow.add(y)},errorsFor:function(h){var c=this.idOrName(h),g=a(h).attr("aria-describedby"),v="label[for='"+c+"'], label[for='"+c+"'] *";return g&&(v=v+", #"+g.replace(/\s+/g,", #")),this.errors().filter(v)},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(h){return this.checkable(h)&&(h=this.findByName(h.name)),a(h).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(h){return a(this.currentForm).find("[name='"+h+"']")},getLength:function(h,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return h.length},depend:function(a,h){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,h):!0},dependTypes:{"boolean":function(a){return a},string:function(h,c){return!!a(h,c.form).length},"function":function(a,h){return a(h)}},optional:function(h){var c=this.elementValue(h);return!a.validator.methods.required.call(this,c,h)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(h,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[h.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(h){return a.data(h,"previousValue")||a.data(h,"previousValue",{old:null,valid:!0,message:this.defaultMessage(h,"remote")})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(h,c){h.constructor===String?this.classRuleSettings[h]=c:a.extend(this.classRuleSettings,h)},classRules:function(h){var c={},g=a(h).attr("class");return g&&a.each(g.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,h,c,g){/min|max/.test(c)&&(null===h||/number|range|text/.test(h))&&(g=Number(g),isNaN(g)&&(g=void 0)),g||0===g?a[c]=g:h===c&&"range"!==h&&(a[c]=!0)},attributeRules:function(h){var c,g,v={},b=a(h),y=h.getAttribute("type");for(c in a.validator.methods)"required"===c?(g=h.getAttribute(c),""===g&&(g=!0),g=!!g):g=b.attr(c),this.normalizeAttributeRule(v,y,c,g);return v.maxlength&&/-1|2147483647|524288/.test(v.maxlength)&&delete v.maxlength,v},dataRules:function(h){var c,g,v={},b=a(h),y=h.getAttribute("type");for(c in a.validator.methods)g=b.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(v,y,c,g);return v},staticRules:function(h){var c={},g=a.data(h.form,"validator");return g.settings.rules&&(c=a.validator.normalizeRule(g.settings.rules[h.name])||{}),c},normalizeRules:function(h,c){return a.each(h,function(g,v){if(v===!1)return void delete h[g];if(v.param||v.depends){var b=!0;switch(typeof v.depends){case"string":b=!!a(v.depends,c.form).length;break;case"function":b=v.depends.call(c,c)}b?h[g]=void 0!==v.param?v.param:!0:delete h[g]}}),a.each(h,function(g,v){h[g]=a.isFunction(v)?v(c):v}),a.each(["minlength","maxlength"],function(){h[this]&&(h[this]=Number(h[this]))}),a.each(["rangelength","range"],function(){var c;h[this]&&(a.isArray(h[this])?h[this]=[Number(h[this][0]),Number(h[this][1])]:"string"==typeof h[this]&&(c=h[this].replace(/[\[\]]/g,"").split(/[\s,]+/),h[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=h.min&&null!=h.max&&(h.range=[h.min,h.max],delete h.min,delete h.max),null!=h.minlength&&null!=h.maxlength&&(h.rangelength=[h.minlength,h.maxlength],delete h.minlength,delete h.maxlength)),h},normalizeRule:function(h){if("string"==typeof h){var c={};a.each(h.split(/\s/),function(){c[this]=!0}),h=c}return h},addMethod:function(h,c,g){a.validator.methods[h]=c,a.validator.messages[h]=void 0!==g?g:a.validator.messages[h],c.length<3&&a.validator.addClassRules(h,a.validator.normalizeRule(h))},methods:{required:function(h,c,g){if(!this.depend(g,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var v=a(c).val();return v&&v.length>0}return this.checkable(c)?this.getLength(h,c)>0:h.length>0},email:function(a,h){return this.optional(h)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,h){return this.optional(h)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(a)},date:function(a,h){return this.optional(h)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,h){return this.optional(h)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,h){return this.optional(h)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,h){return this.optional(h)||/^\d+$/.test(a)},creditcard:function(a,h){if(this.optional(h))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var n,c,g=0,v=0,b=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(n=a.length-1;n>=0;n--)c=a.charAt(n),v=parseInt(c,10),b&&(v*=2)>9&&(v-=9),g+=v,b=!b;return g%10===0},minlength:function(h,c,g){var v=a.isArray(h)?h.length:this.getLength(h,c);return this.optional(c)||v>=g},maxlength:function(h,c,g){var v=a.isArray(h)?h.length:this.getLength(h,c);return this.optional(c)||g>=v},rangelength:function(h,c,g){var v=a.isArray(h)?h.length:this.getLength(h,c);return this.optional(c)||v>=g[0]&&v<=g[1]},min:function(a,h,c){return this.optional(h)||a>=c},max:function(a,h,c){return this.optional(h)||c>=a},range:function(a,h,c){return this.optional(h)||a>=c[0]&&a<=c[1]},equalTo:function(h,c,g){var v=a(g);return this.settings.onfocusout&&v.off(".validate-equalTo").on("blur.validate-equalTo",function(){a(c).valid()}),h===v.val()},remote:function(h,c,g){if(this.optional(c))return"dependency-mismatch";var v,b,y=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),y.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=y.message,g="string"==typeof g&&{url:g}||g,y.old===h?y.valid:(y.old=h,v=this,this.startRequest(c),b={},b[c.name]=h,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:b,context:v.currentForm,success:function(g){var b,C,w,L=g===!0||"true"===g;v.settings.messages[c.name].remote=y.originalMessage,L?(w=v.formSubmitted,v.prepareElement(c),v.formSubmitted=w,v.successList.push(c),delete v.invalid[c.name],v.showErrors()):(b={},C=g||v.defaultMessage(c,"remote"),b[c.name]=y.message=a.isFunction(C)?C(h):C,v.invalid[c.name]=!0,v.showErrors(b)),y.valid=L,v.stopRequest(c,L)}},g)),"pending")}}});var h,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,h,g){var port=a.port;"abort"===a.mode&&(c[port]&&c[port].abort(),c[port]=g)}):(h=a.ajax,a.ajax=function(g){var v=("mode"in g?g:a.ajaxSettings).mode,port=("port"in g?g:a.ajaxSettings).port;return"abort"===v?(c[port]&&c[port].abort(),c[port]=h.apply(this,arguments),c[port]):h.apply(this,arguments)})});
/*!common/components/validate/additional-methods.js*/
;define("common/components/validate/additional-methods",["require","exports","module","dep/jquery-validation/dist/jquery.validate"],function(require){require("dep/jquery-validation/dist/jquery.validate"),$.validator.defaults.errorElement="span",$.validator.defaults.ignore="",$.validator.defaults.onfocusout=function(F){("TEXTAREA"===F.tagName||"INPUT"===F.tagName&&"password"!==F.type)&&(F.value=$.trim(F.value)),this.checkable(F)||!(F.name in this.submitted)&&this.optional(F)||this.element(F)},jQuery.validator.addMethod("truename",function(F,a){var D=/^([a-zA-Z ]+|[\u4e00-\u9fa5]+)$/;return this.optional(a)||D.test(F)},"请输入有效的公司简称"),jQuery.validator.addMethod("specialchar",function(F,a){F=$.trim(F);var D=/^([\u4e00-\u9fa5a-zA-Z0-9])/;return this.optional(a)||D.test(F)},"请输入有效的公司简称"),jQuery.validator.addMethod("newSpecialChar",function(F,a){var D=new RegExp("[`~!@$^&*()=|{}'·:;',\\[\\]<>/?~！@￥……&*（）——|{}【】‘；：”“'。，、？]");return this.optional(a)||!D.test(F)},"请输入有效的公司简称"),$.validator.addMethod("maxLen",function(F,a,D){var h=$.trim($(a).val());return this.optional(a)||h.length<=D}),$.validator.addMethod("txtMaxLength",function(F,a,D){var h=$("<div></div>").html($(a).val()),v=h.text();return this.optional(a)||v.length<=D}),jQuery.validator.addMethod("positionspecialchar",function(F,a){var D=/^([·`~!@$^&':;,?~！……&；：。，、？=])/;return this.optional(a)||!D.test(F)},"请输入有效的公司简称"),jQuery.validator.addMethod("ievaluean",function(F,a){var D=new RegExp("15字以内对面试的简单描述哦");return this.optional(a)||!D.test(F)},"请填写短评"),jQuery.validator.addMethod("checkCity",function(F,a){var D=/^[\u4e00-\u9fa5]{0,}$/;return this.optional(a)||D.test(F)},"请输入有效的公司所在城市，如：北京"),jQuery.validator.addMethod("checkNum",function(F,a){var D=/^[0-9]*$/;return this.optional(a)||!D.test(F)},"请输入有效的一句话介绍"),jQuery.validator.addMethod("checkUrl",function(F,a){F=$.trim(F);var D=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;return F!=$(a).attr("placeholder")?("http://"!=F.substring(0,7)&&"https://"!=F.substring(0,8)&&(F="http://"+F),this.optional(a)||D.test(F)):!1},"请输入有效的公司网址"),jQuery.validator.addMethod("checkUrlNot",function(F,a){F=$.trim(F);var D=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;return F!=$(a).attr("placeholder")?("http://"!=F.substring(0,7)&&"https://"!=F.substring(0,8)&&(F="http://"+F),this.optional(a)||D.test(F)):!0},"请输入有效的公司网址"),jQuery.validator.addMethod("checkUrlNew",function(F,a){F=$.trim(F);var D=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,h=/\.[\w]+[\u4e00-\u9fa5]+/i;return F!=$(a).attr("placeholder")?("http://"!=F.substring(0,7)&&"https://"!=F.substring(0,8)&&(F="http://"+F),this.optional(a)||!h.test(F)&&D.test(F)):!0},"请输入有效的公司网址"),jQuery.validator.addMethod("rangeLen",function(F,a,D){if(F!=$(a).attr("placeholder")){var h=$.isArray(F)?F.length:this.getLength($.trim(F),a);return this.optional(a)||h>=D[0]&&h<=D[1]}return!1},"请输入有效的范围"),jQuery.validator.addMethod("rangeLenNew",function(F,a,D){var h=$("<div></div>").html($(a).val()),F=h.text();if(F!=$(a).attr("placeholder")){var v=$.isArray(F)?F.length:this.getLength($.trim(F),a);return this.optional(a)||v>=D[0]&&v<=D[1]}return!1},"请输入有效的范围"),jQuery.validator.addMethod("salaryRange",function(){return""!=$("#salaryMin").val()&&$("#salaryMin").val()!=$("#salaryMin").attr("placeholder")&&""!=$("#salaryMax").val()&&$("#salaryMax").val()!=$("#salaryMax").attr("placeholder")&&parseInt($.trim($("#salaryMax").val()))/parseInt($.trim($("#salaryMin").val()))>2?!1:!0},"请输入有效的月薪范围"),jQuery.validator.addMethod("Dvalue",function(){return""!=$("#salaryMin").val()&&$("#salaryMin").val()!=$("#salaryMin").attr("placeholder")&&""!=$("#salaryMax").val()&&$("#salaryMax").val()!=$("#salaryMax").attr("placeholder")?parseInt($.trim($("#salaryMax").val()))>parseInt($.trim($("#salaryMin").val()))?!0:!1:!0},"请输入有效的月薪范围"),jQuery.validator.addMethod("isTel",function(F){for(var a=F.split(","),D=!0,h=/(^[0-9]{3,4}\-[0-9]{7,8}$)|(^[0-9]{7,8}$)|(^[0-9]{3,4}\-[0-9]{7,8}\-[0-9]{3,5}$)|(^[0-9]{7,8}\-[0-9]{3,5}$)|(^\([0-9]{3,4}\)[0-9]{7,8}$)|(^\([0-9]{3,4}\)[0-9]{7,8}\-[0-9]{3,5}$)|(^1[3,4,5,7,8]{1}[0-9]{9}$)/,i=0;i<a.length;i++)h.test(a[i])||(D=!1);return D?!0:!1},"请输入正确的手机号或座机号，座机格式如010-62555255或010-6255255-分机号，多个电话用英文逗号隔开"),jQuery.validator.addMethod("isMobile",function(F){var a=/^[\d\+\-]+$/;return a.test(F)?!0:!1},"请输入正确的手机号"),jQuery.validator.addMethod("rangeLenStr",function(F,a,D){for(var h=$.trim(F).length,v=0,i=0;h>i;i++)F.charCodeAt(i)<27||F.charCodeAt(i)>126?v+=2:v++;return v<=2*D[1]&&v>=2*D[0]||0==v?!0:!1},"请输入1-40个字符"),jQuery.validator.addMethod("maxlenStr",function(F,a,D){for(var h=F.length,$=0,i=0;h>i;i++)F.charCodeAt(i)<27||F.charCodeAt(i)>126?$+=2:$++;return 2*D>=$?!0:!1},"请输入100字以内的字符"),jQuery.validator.addMethod("moreEmail",function(F){F=F.replace("；",";").split(";"),F=jQuery.grep(F,function(n){return""!==$.trim(n)&&null!=n});var a=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,D=!0;if(F.length>2)D=!1;else for(var i=0;i<F.length;i++)a.test($.trim(F[i]))||(D=!1);return D?!0:!1},"请输入有效的邮件地址，最多2个，并用英文;隔开"),jQuery.validator.addMethod("checkExceptSharp",function(F,a){var D=/^[\u4e00-\u9fa5a\d\w#\'\s]+$/;return this.optional(a)||D.test(F)},'不能输入除去"#"之外的特殊字符'),jQuery.validator.addMethod("tinymceLength",function(F,a,D){var h=$(a),v=$.trim(h.text().replace(/&nbsp;/g,"")),c=getStrLen(v);return this.optional(a)||2*D[0]<=c&&c<=2*D[1]},jQuery.validator.format("请输入长度为 {0} - {1} 的字长")),jQuery.validator.addMethod("checkMoney",function(F,a){var D=/^([1-9]\d*|0)(\.\d{1,2})?$/;return this.optional(a)||D.test(F)},"请输入正确金额")});
/*!mycenter/modules/common/js/common.js*/
;define("mycenter/modules/common/js/common",["require","exports","module"],function(){function a(a,c){$.colorbox({html:'<div id="uploadFile" class="popup"><table width="100%"><tr><td align="center"><h4 class="error_msg">'+a+'</h4></td></tr><tr><td align="center"><a href="javascript:;" class="btn_s">确&nbsp;定</a></td></tr></table></div>',title:c?c:"错误提示"})}var c=window.location.protocol+"//www.lagou.com";window.myresumeCommon=window.myresumeCommon||{requestTargets:{workShowSave:"/workShow/save.json",workShowDel:"/workShow/delws.json",skillSave:"/skillEvaluate/save.json",skillDel:"/skillEvaluate/delSkill.json",skillDelAll:"/skillEvaluate/delAllSkill.json",workUpload:"/workShow/uploadWorkPic.json",workCut:"/workShow/cutWorkPic.json",projectExpSave:"/projectExperience/save.json",projectExpDel:"/projectExperience/delProject.json",expectJobSave:"/expectJobs/expectJobs.json",myRemark:"/resume/intro.json",uploadLogo:"/workExperience/uploadLogo.json",photoUpload:"/resume/uploadPhoto.json",upCreateCompanyLogo:"/c/uploadPic.json",createCompanyCut:"/c/cutPic.json"},templates:{workShowOnline:['<div class="mr_wo_show" data-type="#{type}" data-id="#{id}">',"<div>",'<div class="mr_edit mr_c_r_t">','<i></i><em class="mr_edit_text" data-type="#{type}">编辑</em>',"</div>","</div>",'<div class="mr_self_site">','<a class="mr_self_sitelink" href="#{ahref}" target="_blank">',"#{href}","</a>","</div>",'<div class="mr_wo_preview ueditor_parse">',"#{desc}","</div>","</div>",'<form class="add_worksshow_form addWorksShowOnlineFormUpdate dn">','<div class="mr_add_work mr_addwork_online">','<div class="mr_worksshow_tab">','<span class="mr_wst_upimage disabled">上传图片</span>','<span class="mr_wst_uponline selected">在线作品</span>',"</div>",'<div class="mr_wo_show">','<div class="mr_self_site">','<a class="mr_self_sitelink" href="#{ahref}" target="_blank">',"#{href}","</a>","</div>",'<div class="mr_wo_preview ueditor_parse">',"#{desc}","</div>","</div>","<label>作品地址</label>",'<div class="mr_input_div mr_click_flag">','<input class="mr_btn workOnlineUrlUpdate" name="url" value="#{href}"/>',"</div>","<label>作品描述</label>",'<div id="workOnlineDescUpdate" class="wrap_editor">','<script id="ueditor_#{id}" type="text/plain" class="ueditor_updateonlineImage"></script>',"</div>",'<div class="mr_ope clearfixs">','<div class="mr_delete">','<div class="mr_delete_pop dn">',"<p>确定删除本条信息？</p>","<div>",'<span class="mr_del_ok">删除</span>','<span class="mr_del_cancel">取消</span>  ',"</div>","</div>","<span>删除本条</span>","</div>",'<input type="submit" class="mr_save" value="保存" data-image-old="#{href}">','<a href="javascript:;" class="mr_cancel">取消</a>',"</div>","</div>","</form>"].join(""),workShowUpload:['<div class="mr_wu_show" data-type="#{type}" data-id="#{id}">','<div class="mr_wu_t">','<a href="'+c+'/#{imageUrl}" target="_blank">','<img class="wh43" src="'+c+'/#{imgsrc}" alt="#{title}" data-origin-src="#{imageUrl}" data-cut-url="#{imgsrc}">',"</a>","</div>",'<div class="mr_wu_con">','<div class="clearfixs">','<div class="mr_content_l #{hasTitle}">','<div class="l2 maxWidth">','<span class="mr_work_title">[ #{title} ]</span>',"</div>","</div>",'<div class="mr_content_r">','<div class="mr_edit mr_c_r_t">','<i></i><em class="mr_edit_text" data-type="#{type}">编辑</em>',"</div>","</div>","</div> ",'<div class="mr_wu_con_m ueditor_parse">',"#{desc}","</div> ","</div>","</div>",'<form class="add_worksshow_form dn addWorksShowUploadFormUpdate">','<div class="mr_add_work mr_addwork_online">','<div class="mr_worksshow_tab">','<span class="mr_wst_upimage selected">上传图片</span>','<span class="mr_wst_uponline disabled">在线作品</span>',"</div>",'<div class="mr_worksshow_upimage">',"<div>","<i></i>","<span>上传作品图片</span>","</div>",'<input type="file" class="worksshow_up" id="worksshowUpUpdate_#{id}" name="workPic" title="目前仅支持10MB以内的PNG/JPG/JPEG/GIF图片" onchange="myresumeCommon.utils.imageUpload( this, myresumeCommon.requestTargets.workUpload, worksShowOperator.addUploadSucc, worksShowOperator.addUploadFail );" />','<img class="worksshowUpUpdateShow worksshow_img" src="" alt=""/>',"</div>","<label>作品标题</label>",'<div class="mr_input_div mr_click_flag">','<input class="mr_btn workUploadTitleUpdate" name="workTitle" value="#{title}"/>',"</div>","<label>作品描述</label>",'<div id="workImagesDescUpdate" class="mr_click_flag wrap_editor">','<script id="ueditor_#{id}" type="text/plain" class="ueditor_updateupdateImage"></script>',"</div>",'<div class="mr_ope clearfixs">','<div class="mr_delete">','<div class="mr_delete_pop dn">',"<p>确定删除本条信息？</p>","<div>",'<span class="mr_del_ok">删除</span>','<span class="mr_del_cancel">取消</span>  ',"</div>","</div>","<span>删除本条</span>","</div>",'<input type="submit" class="mr_save" value="保存" data-image-old="#{imageUrl}">','<a href="javascript:;" class="mr_cancel">取消</a>',"</div> ","</div>","</form>"].join(""),skillItem:['<div class="mr_skill_con" data-grade="#{skillPercent}" data-skill-id="#{id}">','<span class="mr_skill_name" title="#{skillName}">#{skillName}</span>','<span class="mr_skill_plan">',"<em></em>","</span>",'<span class="mr_skill_delete"></span>','<span class="mr_skill_level">#{masterLevel}</span>','<i class="mr_skill_circle"><em>#{masterLevel}</em></i>',"</div>"].join("")},config:{userPhotoSelector:{width:250,height:250},companyLogoSelector:{width:250,height:250},perImagSelector:{width:120,height:120},productImgSelector:{width:300,height:180},workShowSelector:{width:280,height:210},cutLogoImage:{width:360,height:360,bgColor:"#ccc",enableRotation:!1,enableZoom:!0,selector:{w:170,h:170,showPositionsOnDrag:!1,showDimetionsOnDrag:!1,centered:!0,bgInfoLayer:"#fff",borderColor:"#02d1a1",animated:!1,maxWidth:358,maxHeight:358,borderColorHover:"#02d1a1"},image:{source:"",width:0,height:0,minZoom:10,maxZoom:300}},cutImage:{width:360,height:360,bgColor:"#ccc",enableRotation:!1,enableZoom:!0,selector:{w:250,h:250,showPositionsOnDrag:!1,showDimetionsOnDrag:!1,centered:!0,bgInfoLayer:"#fff",borderColor:"#02d1a1",animated:!1,maxWidth:358,maxHeight:358,borderColorHover:"#02d1a1"},image:{source:"",width:0,height:0,minZoom:10,maxZoom:300}},cutPerImage:{width:360,height:360,bgColor:"#ccc",enableRotation:!1,enableZoom:!0,selector:{w:120,h:120,showPositionsOnDrag:!1,showDimetionsOnDrag:!1,centered:!0,bgInfoLayer:"#fff",borderColor:"#02d1a1",animated:!1,maxWidth:358,maxHeight:358,borderColorHover:"#02d1a1"},image:{source:"",width:0,height:0,minZoom:10,maxZoom:300}},cutProductImage:{width:360,height:360,bgColor:"#ccc",enableRotation:!1,enableZoom:!0,selector:{w:300,h:180,showPositionsOnDrag:!1,showDimetionsOnDrag:!1,centered:!0,bgInfoLayer:"#fff",borderColor:"#02d1a1",animated:!1,maxWidth:358,maxHeight:358,borderColorHover:"#02d1a1"},image:{source:"",width:0,height:0,minZoom:10,maxZoom:300}},tinymce:{script_url:c+"/js/tinymce/jscripts/tiny_mce/tiny_mce.js",theme:"advanced",language:"zh-cn",plugins:"paste,autolink,lists,style,layer,save,advhr,advimage,advlink,iespell,inlinepopups,preview,media,searchreplace,contextmenu,fullscreen,noneditable,visualchars,nonbreaking",theme_advanced_buttons1:"bullist,numlist",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"none",theme_advanced_resizing:!1,paste_auto_cleanup_on_paste:!0,paste_as_text:!0,auto_cleanup_word:!0,paste_remove_styles:!0,contextmenu:"copy cut paste",force_br_newlines:!0,force_p_newlines:!1,apply_source_formatting:!1,remove_linebreaks:!1,convert_newlines_to_brs:!0,content_css:c+"/js/tinymce/examples/css/content.css",template_external_list_url:"lists/template_list.js",external_link_list_url:"lists/link_list.js",template_replace_values:{username:"Some User",staffid:"991234"},onchange_callback:function(a){tinyMCE.triggerSave();var c=tinyMCE.get(a.id).getContent();c.length>20&&$("#"+a.id).valid()}}},errorTips:function(a,c,_){_=_||2e3,1!=a.data("errortipspending")&&(a.text(c),a.show(),a.data("errortipspending",1),window.setTimeout(function(){a.hide(),a.data("errortipspending",0)},_))},utils:{imageUpload:function(c,_,v,h){c=$(c);var w=c.attr("id"),g=c.attr("title"),b="text",k={};this.AllowExt=".jpg,.gif,.jpeg,.png,.pjpeg",this.FileExt=c.val().substr(c.val().lastIndexOf(".")).toLowerCase(),0!=this.AllowExt&&-1==this.AllowExt.indexOf(this.FileExt)?(a(g),$("input[type = 'file']").val("")):$.ajaxFileUpload({url:_,secureuri:!1,fileElementId:w,data:k,dataType:b,success:function(c){"text"==b&&(c=$.parseJSON(c)),c.success?v&&v(c.content,w):(h&&h(1),a(g,"错误提示"))},error:function(c){h&&h(c),a("支持jpg、jpeg、gif、png格式，文件小于10M","错误提示")}})},unset:function(a){$.each(a,function(c){a[c]=null})},strFormat:function(a,c){a=String(a);var _=Array.prototype.slice.call(arguments,1),v=Object.prototype.toString;return _.length?(_=1==_.length&&null!==c&&/\[object Array\]|\[object Object\]/.test(v.call(c))?c:_,a.replace(/#\{(.+?)\}/g,function(a,c){var h=_[c];return"[object Function]"==v.call(h)&&(h=h(c)),"undefined"==typeof h?"":h})):a},requester:function(a,c){a.dataType=a.dataType||"json",a.type=a.type||"POST",a.data=a.data||{},a.data.resubmitToken=globals.token,$.ajax(a).done(function(a){null!=a.resubmitToken&&""!=a.resubmitToken&&(globals.token=a.resubmitToken),c&&c(a)})},addHttpPrefix:function(a,c,_){a=a.split("|");for(var v=a[0],i=0,h=a.length;h>i;i++)if(a[i]===c.substring(0,a[i].length))return;_(v+c)},errorTips:function(a,c,_){_=_||2e3,1!=a.data("errortipspending")&&(a.text(c),a.show(),a.data("errortipspending",1),window.setTimeout(function(){a.hide(),a.data("errortipspending",0)},_))},throttle:function(a,c,_,v){_=void 0==_?null:_,a.tId&&clearTimeout(a.tId),a.tId=setTimeout(function(){a.apply(_,c)},v?v:140)},inputerListener:function(a,c){var _=0;if("onpropertychange"in a[0]&&$.browser.ie&&parseInt($.browser.version<=8))a.bind("propertychange",function(e){"value"==e.originalEvent.propertyName&&myresumeCommon.utils.throttle(c,[a.val()],_)});else if($.browser.ie&&9==$.browser.version){var v,h=a.val();a.bind("focus",function(){v=window.setInterval(function(){var v=a.val();v!=h&&(h=v,myresumeCommon.utils.throttle(c,[h],_))},50)}),a.bind("blur",function(){window.clearInterval(v),v=void 0})}else a.bind("input",function(){myresumeCommon.utils.throttle(c,[a.val()],_)})}}},$("body").on("click","a.btn_s",function(){$.colorbox.close(),parent.jQuery.colorbox.close()}),$(".inline").colorbox({inline:!0}),$(".errorTips").click(function(){a("上传附件格式错误!")})});
/*!mycenter/modules/basic/basicform/main.js*/
;define("mycenter/modules/basic/basicform/main",["require","exports","module","mycenter/modules/common/js/core","mycenter/modules/common/js/ajaxfileupload","mycenter/modules/common/js/jquery-migrate-1.1.1","mycenter/modules/common/js/jquery-ui-1.8.custom.min","mycenter/modules/common/js/jquery.cropzoom","mycenter/modules/common/js/stringifyJSON.min","mycenter/modules/common/js/components","dep/jquery-colorbox/jquery.colorbox","common/components/jquery-validate/jquery-validate","common/components/validate/additional-methods","mycenter/modules/common/js/common"],function(require){function a(){c()||$(".mr_container [placeholder]").focus(function(){var a=$(this);a.val()==a.attr("placeholder")?(a.val(""),a.css("color","#333")):a.css("color","#333")}).blur(function(){var a=$(this);(""==a.val()||a.val()==a.attr("placeholder"))&&(a.val(a.attr("placeholder")),a.css("color","#b5b5b5"))}).blur(),""===$("[placeholder]").value&&($("[placeholder]").value=$("[placeholder]").attr("placeholder"))}function c(){return"placeholder"in document.createElement("input")}function h(a){var ul=a.children("ul"),c=a.find('input[type="button"]');0==ul.is(":visible")&&($(".selUl").hide(),$(".selUl").siblings('input[type="button"]').removeClass("select_color"),c.removeClass("select_color"),a.siblings().find('input[type="button"]').removeClass("select_color"),a.css("zIndex","2"),O=!1),O?(ul.hide(),c.removeClass("select_color"),a.css("zIndex","2"),O=!1):(ul.show(),c.addClass("select_color"),a.css("zIndex","2"),O=!0)}function v(a,c){c.each(function(){var c=$(this),h=c.text();h==a&&c.addClass("mrColor")})}function b(a){var c=a.text();a.parent("ul").siblings("input").val(c),a.parent("ul").siblings("label").find("input").val(c),a.parent("ul").siblings('input[type="button"]').css("color","#333");{var c=a.parent("ul").siblings("input").val();a.parent("ul").siblings("input")}a.parent("ul").hide().siblings('input[type="button"]').removeClass("select_color"),a.parent("ul").siblings("span.error").hide()}function g(a,c){for(var i=0;i<a.length;i++)a[i]==c&&(a.splice(i,1),i--);return a}function _(a,c,h){h.attr("disabled",!0);var v=$('input[name="name"]',a).val(),b=$('input[name="topDegree"]',a).val(),_=$('input[name="wokrYear"]',a).val(),y=$('input[name="phone"]',a).val();if(y&&""!=y){var k=g(y.split(""),"-");y=g(k,"+").join("")}var C=$('input[name="email"]',a).val(),w=$("#pageType").val(),j=$('input[name="workCity"]',a).val();$.ajax({url:GLOBAL_DOMAIN.ctx+"/resume/basicMain.json",type:"POST",data:{name:v,highestEducation:b,workYear:_,phone:y,email:C,liveCity:j,resubmitToken:globals.token,type:w,urlType:c,isBack:"2"},dataType:"json"}).done(function(a){if(null!=a.resubmitToken&&""!=a.resubmitToken&&(globals.token=a.resubmitToken),a.success){var c=a.content.url;window.location.href=c}else a.msg&&alert(a.msg);h.attr("disabled",!1)})}function y(a,c){var h=a/100*250,v=c/100*250;$(".mr_solid").animate({width:h}),$(".mr_dashed").animate({width:v}),$(".mr_top .mr_bfb").text(a+"%")}function k(a){$(".upResumeTime").text(a)}require("mycenter/modules/common/js/core"),require("mycenter/modules/common/js/ajaxfileupload"),require("mycenter/modules/common/js/jquery-migrate-1.1.1"),require("mycenter/modules/common/js/jquery-ui-1.8.custom.min"),require("mycenter/modules/common/js/jquery.cropzoom"),require("mycenter/modules/common/js/stringifyJSON.min"),require("mycenter/modules/common/js/components"),require("dep/jquery-colorbox/jquery.colorbox"),require("common/components/jquery-validate/jquery-validate"),require("common/components/validate/additional-methods"),require("mycenter/modules/common/js/common");var C=parseInt($.trim($(".mr_bfb").text()));a(),$(".work .mr_workexpFormTop:first,.education .mr_educationFormTop:first,.practice .mr_practiceConFormTop:first").removeClass("dashedBorder");var w=$.trim($(".selfCon").find("textarea").val()).length,j=$(".word_count").text();"一句话介绍自己，告诉我为什么选择你而不是别人"==$.trim($(".selfCon").find("textarea").val())&&(w=0),$(".word_count").text(j-w);var I=$("#isWork"),T=I.val(),S=$("#indentity").val();if("0"==T)switch(S){case"":$(".mr_threeBasic").css("height","444px");break;case"1":$(".mr_enoughWidth").animate({marginLeft:"0"},0);var B=$(".education .mr_educationForm").length;1==B?$(".mr_threeBasic").css("height","444px"):$(".mr_threeBasic").css("height","auto");break;case"2":$(".mr_enoughWidth").animate({marginLeft:"-540px"},0),$(".mr_icon li:eq(1)").addClass("mr_workYearIcon").siblings().removeClass("mr_workYearIcon");var B=$(".practice .mr_practiceConForm").length;1==B?$(".mr_threeBasic").css("height","440px"):$(".mr_threeBasic").css("height","auto");break;case"3":$(".mr_enoughWidth").animate({marginLeft:"-1080px"},0),$(".mr_icon li:eq(2)").addClass("mr_workYearIcon").siblings().removeClass("mr_workYearIcon"),$(".mr_threeBasic").css("height","440px")}else switch(S){case"":$(".mr_threeBasic").css("height","444px");break;case"1":$(".mr_enoughWidth").animate({marginLeft:"0"},0);var L=$(".work .mr_workexpForm").length;1==L?$(".mr_threeBasic").css("height","444px"):$(".mr_threeBasic").css("height","auto");break;case"2":$(".mr_enoughWidth").animate({marginLeft:"-540px"},0),$(".mr_icon li:eq(1)").addClass("mr_workYearIcon").siblings().removeClass("mr_workYearIcon");var P=$(".education .mr_educationForm").length;1==P?$(".mr_threeBasic").css("height","440px"):$(".mr_threeBasic").css("height","auto");break;case"3":$(".mr_enoughWidth").animate({marginLeft:"-1080px"},0),$(".mr_icon li:eq(2)").addClass("mr_workYearIcon").siblings().removeClass("mr_workYearIcon"),$(".mr_threeBasic").css("height","440px")}$(".mr_t .mr_button a").hover(function(){$(this).css("color","#333")},function(){$(this).css("color","#999")});var Y=new components.CityWrapper({container:$("#selectCity"),onchange:function(a,c){c.find(".error").hide()},beforeShown:function(a){$(".selUl").not(":hidden").hide(),$(".selUl").siblings('input[type="button"]').removeClass("select_color"),$(".selUl").siblings('input[type="button"]').removeClass("select_color"),a.find('input[type="button"]').addClass("select_color");var c=$(".mr_basic").find('input[type="text"]');c.removeClass("select_color")},afterHide:function(a){var c=a.find('input[type="button"]');c.removeClass("select_color");var h=c.val();""!=h&&"所在城市"!=h&&c.css("color","#333")}});$(document).click(function(){$(".selUl,.mr_calendar_ym").hide(),Y.hide(),$('.mrWork,input[type="text"],.practiceDate input[type="button"],.workDate input[type="button"]').removeClass("select_color"),$(".mr_introduceSelf textarea").removeClass("select_color").css("transition","border 0s ease-in 0s"),$('.sel input[type="button"] ,.nextSel input[type="button"]').removeClass("select_color")}),$(".mr_basicform").on("click",'input[type="text"]',function(e){e.stopPropagation(),$('.mr_basicform input[type="text"]').removeClass("select_color"),$(this).addClass("select_color"),Y.hide(),$(".selUl").not(":hidden").css("display","none"),$("#mrTopDegree,#mrWokrYear").removeClass("select_color")}),$(".collapsible_menu").hover(function(){$(".logout").removeClass("dn"),$(this).find("i").addClass("hover")},function(){$(".logout").addClass("dn"),$(this).find("i").removeClass("hover")});var O=!1;$(".mr_basicform").on("click",".sel",function(e){e.stopPropagation(),$('.mr_basicform input[type="text"]').removeClass("select_color");var a=$(this);h(a),O?$(this).find("ul").show():$(this).find("ul").hide();var c=$(".xl_list");c.is(":visible")&&($('.mr_workcity input[type="button"]').removeClass("select_color"),c.hide());var b=$(this).find('input[type="button"]').val(),g=$(this).find("ul li");v(b,g)}),$(".mr_basicform").on("click",".nextSel",function(e){e.stopPropagation(),$('.mr_basicform input[type="text"]').removeClass("select_color");var a=$(this);h(a),O?$(this).find("ul").show():$(this).find("ul").hide();var c=$(".xl_list");c.is(":visible")&&($('.mr_workcity input[type="button"]').removeClass("select_color"),c.hide());var b=$(this).find('input[type="button"]').val(),g=$(this).find("ul li");v(b,g)}),$(".mr_basicform").on("click",".sel ul li",function(e){e.stopPropagation(),e.preventDefault();var a=$(this);b(a)}),$(".mr_basicform").on("click",".nextSel ul li",function(e){e.preventDefault(),e.stopPropagation();var a=$(this),c=a.text();a.parent("ul").siblings("input").val(c),a.parent("ul").siblings("label").find("input").val(c),a.parent("ul").siblings('input[type="button"]').css("color","#333");{var c=a.parent("ul").siblings("input").val();a.parent("ul").siblings("input")}a.parents("form.mr_basicform").find("input#mrSaveThree").val("应届毕业生"==c?"下一步：继续完善教育信息":"下一步：继续完善职业信息"),a.parent("ul").hide().siblings('input[type="button"]').removeClass("select_color"),a.parent("ul").siblings("span.error").hide()}),$(".mr_basicform").on("mouseover",".sel ul li",function(){var a=$(this);a.addClass("mrColor").siblings("li").removeClass("mrColor")}),$(".mr_basicform").on("mouseover",".nextSel ul li",function(){var a=$(this);a.addClass("mrColor").siblings("li").removeClass("mrColor")});var D;$("#mrPhone").keyup(function(){var a=$.trim($(this).val());if(a&&""!=a){var c=g(a.split(""),"-");a=g(c,"+").join("")}var h=$(".mr_basicform").validate().element($("#mrPhone")),v=$('#selectCity input[type="button"]').val();h&&(""!=v||"所在城市"!=v)&&$.ajax({url:GLOBAL_DOMAIN.ctx+"/resume/mobileInfo.json",type:"get",data:{mobile:a,resubmitToken:globals.token},dataType:"json"}).done(function(a){if(null!=a.resubmitToken&&""!=a.resubmitToken&&(globals.token=a.resubmitToken),a.success){var c=a.content.city;D=a.content.city;var h=$(".mr_workcity");h.find('input[type="hidden"]').val(c),h.find('input[type="button"]').val(c).css("color","#333"),$(".mr_workcity").find("span.error").hide()}else $(".mr_workcity").find('input[type="button"]').val("所在城市")})}),$("#mrPhone").focus(function(){$(this).siblings(".tips").fadeIn(90)}).blur(function(){$(this).siblings(".tips").fadeOut(90)}),$(".mr_basicform").validate({rules:{name:{required:!0,newSpecialChar:!0,rangeLenStr:[1,15]},topDegree:{required:!0},wokrYear:{required:!0},phone:{required:!0,isMobile:!0,maxlength:20},email:{required:!0,email:!0,maxlength:100},workCity:{required:!1}},messages:{name:{required:"必填",newSpecialChar:"格式错误",rangeLenStr:"请输入真实姓名"},topDegree:{required:"必填"},wokrYear:{required:"必填"},phone:{required:"必填",isMobile:"请输入有效的手机号码",maxlength:"目前仅支持有效大陆和海外号码"},email:{required:"请输入常用邮箱地址",email:"请输入有效的邮箱地址",maxlength:"请输入100字以内的邮箱地址"}},errorPlacement:function(a,c){"topDegree"==c.attr("name")?a.appendTo(c.parents(".mr_topdegree")):"wokrYear"==c.attr("name")?a.appendTo(c.parents(".mr_workyear")):a.insertAfter("workCity"==c.attr("name")?c.siblings("#mrWokrCityLabel"):c.parent("div"))}}),$("#mrSaveBasic").click(function(){var a=$(".mr_basicform").valid(),c=$('.mr_basicform input[name="wokrYear"]').val();"应届毕业生"==c?ga("send","event","应届生","基本信息","backoff"):ga("send","event","非应届生","基本信息","backoff");var h=$(this).attr("data-val");if(!a)return!1;var v=$(".mr_basicform"),b=v.find("input#mrSaveBasic");_(v,h,b)}),$("#mrSaveThree").click(function(){var a=$(".mr_basicform").valid(),c=$('.mr_basicform input[name="wokrYear"]').val();"应届毕业生"==c?ga("send","event","应届生","基本信息","step1"):ga("send","event","非应届生","基本信息","step1");var h=$(this).attr("data-val");if(!a)return!1;var v=$(".mr_basicform"),b=v.find("input#mrSaveThree");_(v,h,b)});var W=function(){var a,c=$("#uploadImages"),h=c.find("#cropzoom_container"),v=c.find("#crop"),b=c.find("#restore");v.bind("click",function(){a.send(GLOBAL_DOMAIN.ctx+"/resume/cutPic.json","POST",{resubmitToken:globals.token},function(c){a.showImage.attr("src",GLOBAL_DOMAIN.ctx+"/"+c.content.uploadPath+"?cc="+Math.random()),$.colorbox.close(),a.showImage=null,null!=c.resubmitToken&&""!=c.resubmitToken&&(globals.token=c.resubmitToken),k(c.content.refreshTime);var rt=c.content.infoCompleteStatus.score,h=parseInt($.trim($(".mr_bfb").text())),v=C-h+rt;y(rt,v),$(".shadow").hide(),$(".mr_headfile").hover(function(){$(".shadow").show()},function(){$(".shadow").hide()}),a.restore()})}),b.bind("click",function(){a.restore(),$(".shadow").hide(),$(".mr_headfile").hover(function(){$(".shadow").show()},function(){$(".shadow").hide()}),$.colorbox.close()});var g=function(v){var b=$(".mr_headimg"),g=GLOBAL_DOMAIN.ctx+"/"+v.uploadPath;$.colorbox({inline:!0,href:c,title:"选择裁剪区域"}),myresumeCommon.config.cutImage.image.source=g,myresumeCommon.config.cutImage.image.width=v.srcImageW,myresumeCommon.config.cutImage.image.height=v.srcImageH,myresumeCommon.config.cutImage.selector.w=myresumeCommon.config.userPhotoSelector.width,myresumeCommon.config.cutImage.selector.h=myresumeCommon.config.userPhotoSelector.height,a=h.cropzoom(myresumeCommon.config.cutImage),a.showImage=null,a.showImage=b},_=function(){};return{upSucc:g,upFail:_}}();window.uploadPhoto=W,$("#colorbox").on("click","#cboxClose",function(){"uploadImages"==$(this).siblings("#cboxLoadedContent").children("div").attr("id")&&($(".shadow").hide(),$(".mr_headfile").hover(function(){$(".shadow").show()},function(){$(".shadow").hide()}))}),$(document).on("change","#headPic",function(){myresumeCommon.utils.imageUpload($(this),myresumeCommon.requestTargets.photoUpload,W.upSucc,W.upFail)})});
/*!mycenter/page/basic/main.js*/
;define("mycenter/page/basic/main",["require","exports","module","mycenter/modules/basic/basicform/main"],function(require){require("mycenter/modules/basic/basicform/main")});